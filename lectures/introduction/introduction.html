<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction</title>
    <meta charset="utf-8" />
    <script src="introduction_files/header-attrs-2.5/header-attrs.js"></script>
    <link href="introduction_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="../template.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




layout: true
&lt;div class="scilife-logo"&gt;&lt;/div&gt;
&lt;div class="nbis-logo"&gt;&lt;/div&gt;

---

class: center, middle
.HUGE[Tools for reproducible research]

.green[Online, November 23-27]

&lt;img src="https://phdcomics.com/comics/archive/phd031214s.gif" style="width:80%;"/&gt;

---

class: center, middle
.HUGE[The teachers]

&lt;div class="image-with-text"&gt;
    &lt;img src="https://nbis.se/assets/img/staff/john-sundh.jpg" style="height:150px" hspace=20/&gt;
    &lt;p&gt;John Sundh&lt;/p&gt;
&lt;/div&gt;
&lt;div class="image-with-text"&gt;
    &lt;img src="https://nbis.se/assets/img/staff/verena-kutschera.jpg" style="height:150px" hspace=20/&gt;
    &lt;p&gt;Verena Kutchera&lt;/p&gt;
&lt;/div&gt;
&lt;div class="image-with-text"&gt;
    &lt;img src="https://nbis.se/assets/img/staff/erik-fasterius.jpg" style="height:150px" hspace=20/&gt;
    &lt;p&gt;Erik Fasterius&lt;/p&gt;
&lt;/div&gt;
&lt;div class="image-with-text"&gt;
    &lt;img src="https://nbis.se/assets/img/staff/tomas-larsson.png" style="height:150px" hspace=20/&gt;
    &lt;p&gt;Tomas Larsson&lt;/p&gt;
&lt;/div&gt;

---

# Course content

* Good practices for working with data

* How to use the version control system .green[Git] to track changes to code

* How to use the package and environment manager .green[Conda]

* How to use the workflow manager .green[Snakemake]

* How to use .green[R Markdown] to generate automated reports

* How to use .green[Jupyter] notebooks to document your analysis

* How to use .green[Docker] and .green[Singularity] to distribute containerized
  computational environments

---

# Schedule

&lt;iframe src="https://nbis-reproducible-research.readthedocs.io/en/latest/schedule/index.html" scrolling="yes" width="800" height="400"&lt;/iframe&gt;

---

# Please provide feedback!
[https://nbis-reproducible-research.readthedocs.io/en/latest/feedback/]()

&lt;iframe src="https://docs.google.com/forms/d/e/1FAIpQLScLBmhUGCq_6D_NMCTKtgz8k-5idJmPvKwZ_Ip3A_u8wy1WqQ/viewform?embedded=true" scrolling="yes" width="800" height="400" frameborder="0" marginheight="0" marginwidth="0"&lt;/iframe&gt;

---

# Why all the talk about reproducible research?

.pull-left[
&lt;br&gt;

The *Reproducibility project* set out to replicate 100 experiments published in
high-impact psychology journals.&lt;sup&gt;1&lt;/sup&gt;

About one-half to two-thirds of the original findings could not be observed in
the replication study.
]

.pull-right[
&lt;img src="https://science.sciencemag.org/content/sci/349/6251/aac4716/F1.large.jpg"/&gt;
&lt;br&gt;
.tiny[&lt;sup&gt;1&lt;/sup&gt; "Estimating the reproducibility of psychological science". Science. 349]
]

---

# Why all the talk about reproducible research?

.pull-left[
&lt;img src="https://www.nature.com/news/polopoly_fs/7.36718.1464174471!/image/reproducibility-graphic-online3.jpg_gen/derivatives/landscape_630/reproducibility-graphic-online3.jpg" height="400"/&gt;
]

.pull-right[
A survey in Nature revealed that irreproducible experiments are a problem
across all domains of science.&lt;sup&gt;1&lt;/sup&gt;
]

.tiny[&lt;sup&gt;1&lt;/sup&gt; "1,500 scientists lift the lid on reproducibility", Nature. 533: 452–454]

---

# Why all the talk about reproducible research?

.pull-left[
&lt;img src="https://www.nature.com/news/polopoly_fs/7.36716.1469695923!/image/reproducibility-graphic-online1.jpeg_gen/derivatives/landscape_630/reproducibility-graphic-online1.jpeg"/&gt;
]

.pull-right[
Medicine is among the most affected research fields. A study in Nature found
that 47 out of 53 medical research papers focused on cancer research were
irreproducible.&lt;sup&gt;2&lt;/sup&gt;

&lt;br&gt;
Common features were failure to show all the data and inappropriate use of
statistical tests.
]

.tiny[&lt;sup&gt;2&lt;/sup&gt; Begley, C. G.; Ellis, L. M. (2012). "Drug development: Raise standards for preclinical cancer research". Nature. 483 (7391): 531–533]

---

# Why all the talk about reproducible research?

*Replication of data analyses in 18 articles on microarray-based gene
expression profiling published in Nature Genetics in 2005–2006:*

.tiny[Adopted from Ioannidis *et al.* "Repeatability of published microarray gene expression analyses", Nature Genetics 41 (2009) doi:10.1038/ng.295]





![](introduction_files/figure-html/Plot the first Ioannidis data-1.png)&lt;!-- --&gt;

---

# Why all the talk about reproducible research?

*Replication of data analyses in 18 articles on microarray-based gene
expression profiling published in Nature Genetics in 2005–2006:*

.tiny[Adopted from Ioannidis *et al.* "Repeatability of published microarray gene expression analyses", Nature Genetics 41 (2009) doi:10.1038/ng.295]

![](introduction_files/figure-html/Plot the second Ioannidis data-1.png)&lt;!-- --&gt;

---

# Reproducibility is rarer than you think

The results of only 26% out of 204 randomly selected papers in the journal
*Science* could be reproduced.&lt;sup&gt;1&lt;/sup&gt;

.tiny[&lt;sup&gt;1&lt;/sup&gt; Stodden et. al (2018). "An empirical analysis of journal policy effectiveness for computational reproducibility". PNAS. 115 (11): 2584-2589]

--

&gt; "Many journals are revising author guidelines to include data and code
&gt; availability."

--

&gt; "(...) an improvement over no policy, but currently insufficient for
&gt; reproducibility."

---

# Reproducibility is rarer than you think

There are many so-called excuses not to work reproducibly:

&gt; “Thank you for your interest in our paper. For the [redacted] calculations I
&gt; used my own code, and there is no public version of this code, which could be
&gt; downloaded. Since this code is not very user-friendly and is under constant
&gt; development I prefer not to share this code.”

&gt; “We do not typically share our internal data or code with people outside our
&gt; collaboration.”

&gt; “When you approach a PI for the source codes and raw data, you better explain
&gt; who you are, whom you work for, why you need the data and what you are going
&gt; to do with it.”

&gt; “I have to say that this is a very unusual request without any explanation!
&gt; Please ask your supervisor to send me an email with a detailed, and I mean
&gt; detailed, explanation.”

---

# What does reproducible research mean?
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;table&gt;
&lt;tr&gt;
  &lt;td colspan="2" bgcolor="#FFFFFF"&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td colspan="2" align="center" bgcolor="#6DAD2A"&gt;Data&lt;/td&gt;
&lt;/tr&gt;
  &lt;td colspan="2" bgcolor="#FFFFFF"&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align="center" bgcolor="#A3CF76"&gt;Same&lt;/td&gt;
  &lt;td align="center" bgcolor="#A3CF76"&gt;Different&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td rowspan="2" bgcolor="#6DAD2A"&gt;Code&lt;/td&gt;
  &lt;td align="center" bgcolor="#A3CF76"&gt;Same&lt;/td&gt;
  &lt;td align="center" bgcolor="#CFE6B8"&gt;Reproducible&lt;/td&gt;
  &lt;td align="center" bgcolor="#CFE6B8"&gt;Replicable&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td align="center" bgcolor="#A3CF76"&gt;Different&lt;/td&gt;
  &lt;td align="center" bgcolor="#CFE6B8"&gt;Robust&lt;/td&gt;
  &lt;td align="center" bgcolor="#CFE6B8"&gt;Generalisable&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

---

# What does reproducible research mean?

.center[&lt;img src="../common-figures/reproducibility-overview.png" width=60%/&gt;]

--

&gt; ”Why call the course Reproducible Research, when it could just as well &lt;br&gt;
&gt;  be called Research?”
&gt;
&gt; .right.small[\- Niclas Jareborg, NBIS data management expert]

---

# How are you handling your .green[data]?

.left-column[
## Decent
]

.right-column[
* Data available on request
* All metadata required for generating the results available
]

---

# How are you handling your .green[data]?

.left-column[
## .light-grey[Decent]
## Good
]

.right-column[
* .light-grey[Data available on request]
* .light-grey[All metadata required for generating the results available]
* Data deposited in public repositories
* Raw data available in unedited form
* If the raw data needed preprocessing, scripts were used rather than modifying
  it manually
]

---

# How are you handling your .green[data]?

.left-column[
## .light-grey[Decent]
## .light-grey[Good]
## Great
]

.right-column[
* .light-grey[Data available on request]
* .light-grey[All metadata required for generating the results available]
* .light-grey[Data deposited in public repositories]
* .light-grey[Raw data available in unedited form]
* .light-grey[If the raw data needed preprocessing, scripts were used rather than modifying it manually]
* Section in the paper to aid in reproduction
* Used non-proprietary and machine-readable formats, *e.g.* `.csv` rather than
  `.xls`.
]

---

# How are you handling your .green[code]?

.left-column[
## Decent
]

.right-column[
* All code for generating results from processed data available on request
]

---

# How are you handling your .green[code]?

.left-column[
## .light-grey[Decent]
## Good
]

.right-column[
* .light-grey[All code for generating results from processed data available on request]
* All code for generating results from raw data is available
* The code is publicly available with timestamps or tags
]

---

# How are you handling your .green[code]?

.left-column[
## .light-grey[Decent]
## .light-grey[Good]
## Great
]

.right-column[
* .light-grey[All code for generating results from processed data available on request]
* .light-grey[All code for generating results from raw data is available]
* .light-grey[The code is publicly available with timestamps or tags]
* All code for generating results from publicly available raw data is
  available
* Code is documented and contains instructions for reproducing results
* Seeds were used and documented for heuristic methods
]

---

# How are you handling your .green[environment]?

.left-column[
## Decent
]

.right-column[
* Key programs used are mentioned in the methods section
]

---

# How are you handling your .green[environment]?

.left-column[
## .light-grey[Decent]
## Good
]

.right-column[
* .light-grey[Key programs used are mentioned in the methods section]
* List of all programs used and their respective versions are available
]

---

# How are you handling your .green[environment]?

.left-column[
## .light-grey[Decent]
## .light-grey[Good]
## Great
]

.right-column[
* .light-grey[Key programs used are mentioned in the methods section]
* .light-grey[List of all programs used and their respective versions are available]
* Instructions for reproducing the environment publicly available
]

---

# "What's in it for me?"

## .green[Before] the project
* Improved structure and organization
* Forced to think about scope and limitations

--

## .green[During] the project
* Easier to rerun analyses and generate results after updating data, tools,
  parameters, *etc.*
* Closer interaction between collaborators
* Much of the manuscript "writes itself"

--

## .green[After] the project
* Faster resumption of research by others (or, more likely, your future self),
  thereby increasing the impact of your work
* Increased visibility in the scientific community

---

class: center, middle

# Questions so far?

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": ""
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
